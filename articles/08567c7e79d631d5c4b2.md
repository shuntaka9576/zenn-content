---
title: "[å°ãƒã‚¿] bash,Vimã§Apple Siliconæ­è¼‰Macã‚’åˆ¤å®šã™ã‚‹"
emoji: "ğŸ’»"
type: "tech"
topics: ["mac"]
published: true
---

## bash
```bash
#!/bin/bash

if [ "$(uname)" == 'Darwin' ]  && [ "$(uname -m)" == 'x86_64' ]; then
  echo 'x86_64 Mac'
elif [ "$(uname)" == 'Darwin' ]  && [ "$(uname -m)" == 'arm64' ]; then
  echo 'arm64 Mac'
fi
```

## Vim
`uname`ãŒRosetta2ã‚’çµŒç”±ã—ãªã„ã‚ˆã†ã«`arch -arm64e`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã¦ã„ã‚‹
Rosetta2ã‚’çµŒç”±ã™ã‚‹ã¨ã€Apple Siliconæ­è¼‰Macã§ã‚‚`x86_64`ã«åˆ¤å®šã•ã‚Œã‚‹
```vim
let g:os = substitute(system('arch -arm64e uname'), '\n', '', '')
let g:arch = substitute(system('arch -arm64e uname -m'), '\n', '', '')

if g:os ==# 'Darwin' && g:arch ==# 'x86_64'
  let g:coc_node_path = expand('~/.anyenv/envs/nodenv/shims/node')
elseif g:os ==# 'Darwin' && g:arch ==# 'arm64'
  let g:coc_node_path = expand('/usr/local/bin/node')
endif
```

## å‚è€ƒ
[Apple Siliconæ­è¼‰ã®Macã§ã¯Intel-Onlyã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’åˆ©ç”¨ã™ã‚‹ã¨CLIãƒ„ãƒ¼ãƒ«ã¯RosettaçµŒç”±ã§èµ·å‹•ã™ã‚‹ã®ã§æ³¨æ„ã‚’ã€‚](https://applech2.com/archives/20200721-intel-only-terminal-launch-shell-through-rosetta.html)
