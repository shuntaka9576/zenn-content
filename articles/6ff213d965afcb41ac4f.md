---
title: "Apple Silicon Macç’°å¢ƒæ§‹ç¯‰ãƒ¡ãƒ¢"
emoji: "ğŸ"
type: "tech"
topics: ["mac"]
published: true
---

# ã¯ã˜ã‚ã«
M1æ­è¼‰Macã«é–¢ã—ã¦ã¯ã€ITãƒ»ã‚¬ã‚¸ã‚§ãƒƒãƒˆç³»ãƒ¡ãƒ‡ã‚£ã‚¢ã§é€£æ—¥è¨˜äº‹ãŒä¸ŠãŒã£ã¦ãŠã‚Šã€ã‚ã‚‹ç¨®ãŠç¥­ã‚Šã«ãªã£ã¦ã„ã¾ã™ã€‚
ç§ã‚‚å…ˆæ—¥M1ãƒãƒƒãƒ—æ­è¼‰Mac Book Airã‚’è³¼å…¥ã—ã€å€‹äººçš„ã«æº€è¶³ãŒå‡ºæ¥ã‚‹é–‹ç™ºç’°å¢ƒãŒå‡ºæ¥ãŸãŸã‚ã€ãã®æ‰‹é †ã‚’å…±æœ‰ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

ãªã‚‹ã¹ãCLIãƒ™ãƒ¼ã‚¹ã§ç’°å¢ƒæ§‹ç¯‰ã—ã¦ã„ã¾ã™ã€‚
ã“ã†ã„ã†æ‰‹é †ã§å„ç¨®ãƒ„ãƒ¼ãƒ«ãŒå‹•ãã‚“ã ã€œã¨ã‚†ã‚‹ãèª­ã‚“ã§é ‚ã‘ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚

ä»¥ä¸‹ã€è¨˜äº‹ã‚’èª­ã‚€ä¸Šã§ã®æ³¨æ„ç‚¹ã§ã™ã€‚ã”äº†æ‰¿ä¸‹ã•ã„ã€‚
* ç™ºå£²æ—¥å‘¨è¾ºã«å‹•ä½œç¢ºèªã—ãŸæ‰‹é †ã‚†ãˆã€é–²è¦§æ™‚æœŸã«ã‚ˆã£ã¦ã¯å¤šå°‘å¤ã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
* å€‹äººã§ä½œæˆã—ãŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å…ƒã«ã€è¨˜äº‹ã«ã—ã‚„ã™ã„ã‚ˆã†é †ç•ªã‚’çµ„ã¿æ›¿ãˆã¦è¨˜è¼‰ã—ã¦ã„ã¾ã™ã€‚è¨˜äº‹ä¸Šã§ä¸æ˜ç‚¹ãŒã‚ã‚Šã¾ã—ãŸã‚‰ã€[github.com/shuntaka9576/dotfiles](https://github.com/shuntaka9576/dotfiles/blob/feature/support-apple-sillicon/init/install.sh)ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„
* ã€Œã©ã®ã‚ˆã†ãªç†ç”±ã§è¨˜è¼‰ã—ãŸæ‰‹é †ã«ãªã£ãŸã®ã‹ã€ã«é–¢ã—ã¦ã¯ã€èª¬æ˜ãŒå‡ºæ¥ã¾ã›ã‚“ã§ã—ãŸã€‚ã“ã‚Œã¯ç§ã®åŠ›ä¸è¶³ã«ã‚ˆã‚‹ã‚‚ã®ã§ã™ã€‚ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€‚
* zshã‚„neovimã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ§‹æˆã¨ã„ã£ãŸå†…å®¹ã¯æœ¬è¨˜äº‹ã«ã¯å«ã¾ã‚Œã¾ã›ã‚“

# è‡ªåˆ†ã®ä½œæ¥­ç’°å¢ƒ
æ™®æ®µneovimã‚’ä½¿ã£ã¦ã€TypeScript(node)ã‚’æ›¸ã„ã¦ã„ã¾ã™ã€‚

# ç’°å¢ƒæ§‹ç¯‰æ‰‹é †
## Safariã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚’DLã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
ãªã‚‹ã¹ãCLIã¨æ›¸ãã¤ã¤ã€SafariçµŒç”±ã§ã™ã„ã¾ã›ã‚“..
MacPortsã‚„brewçµŒç”±ã§ä¸Šæ‰‹ãå°å…¥ã™ã‚‹ã“ã¨ã§ããªã‹ã£ãŸãƒ„ãƒ¼ãƒ«ã‚’æœ¬é …ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™

### MacPortsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
[MacPorts](https://www.macports.org/install.php)ã‹ã‚‰ã€`macOS Big Sur v11`ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### Nodeã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
[node official](https://nodejs.org/ja/download/)ã‹ã‚‰ã€v14.15.1ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«


## ã‚¿ãƒ¼ãƒŸãƒŠãƒ«çµŒç”±ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
ã“ã“ã‹ã‚‰ã¯åŸºæœ¬ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’åˆ©ç”¨ã—ã¦ã€ç’°å¢ƒæ§‹ç¯‰ã‚’ã—ã¾ã™

### Command line tools for Xcodeã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
gitã‚’ä½¿ã†æ‰‹é †ãŒã‚ã‚Šã¾ã™ã®ã§ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
xcode-select --install
```

### MacPortsçµŒç”±ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
export PATH=/opt/local/bin:$PATH # MacPortsã®PAHTã‚’é€šã™

sudo port install -f tmux
sudo port install -f go
sudo port install -f fzf
sudo port install -f wget
sudo port install -f fontforge
sudo port install -f tmux-pasteboard
```

### neovim, xpanesã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
æœ¬æ‰‹é †ã§ã¯ã€neovimã®x86ãƒã‚¤ãƒŠãƒªã‚’è½ã¨ã—ã¦ãƒ‘ã‚¹ã‚’é€šã—ã¾ã™
([Build for arm64 Macs](https://github.com/neovim/neovim/pull/12624)ã‚’è¦‹ã‚‹é™ã‚Šã€M1ä¸Šã§ãƒ“ãƒ«ãƒ‰å‡ºæ¥ãã†ã§ã™)
xpanesã¯ã€wgetã§è½ã¨ã—ã¦ãã¾ã™

```bash
# install nvim
wget https://github.com/neovim/neovim/releases/download/nightly/nvim-macos.tar.gz
tar xzvf nvim-macos.tar.gz
rm nvim-macos.tar.gz

# install xpanes
wget https://raw.githubusercontent.com/greymd/tmux-xpanes/v4.1.2/bin/xpanes -O ./xpanes
sudo install -m 0755 xpanes /usr/local/bin/xpanes
rm ~/xpanes
```

```bash
# .zshrc
if [ -d $HOME/nvim-osx64 ]; then
  export PATH="$HOME/nvim-osx64/bin:$PATH"
fi
```

### brewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
[brewå…¬å¼](https://docs.brew.sh/Installation)ã®ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã‚’å‚è€ƒã«brewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™

```bash
mkdir homebrew && curl -L https://github.com/Homebrew/brew/tarball/master | tar xz --strip 1 -C homebrew
sudo mv -f homebrew /opt/homebrew
rm -rf homebrew
```

### ã‚ˆãåˆ©ç”¨ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
export PATH=/opt/homebrew/bin:$PATH # brewã®PATHã‚’é€šã™
brew cask install google-chrome
brew cask install iterm2
brew cask install gyazo
brew cask install slack
brew cask install visual-studio-code
brew cask install drawio
```

### npmè£½ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
sudo npm install -g vue-language-server
sudo npm install -g javascript-typescript-langserver
sudo npm install -g dockerfile-language-server-nodejs
sudo npm install -g bash-language-server
sudo npm install -g markdownlint
sudo npm install -g typescript
sudo npm install -g typescript-language-server
sudo npm install -g yarn
sudo npm install -g jwt-cli
sudo npm install -g reload
sudo npm install -g jsondiffpatch
sudo npm install -g uuid-cli
```

### goè£½ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
export GOPATH=~/go
go get github.com/x-motemen/ghq
go get github.com/mrtazz/checkmake
go get github.com/mattn/memo
go get github.com/jesseduffield/lazygit
go get github.com/knqyf263/pet
go get github.com/mvdan/sh/cmd/shfmt
go get github.com/github/hub
```
ä½•å›ã‹`Rosetta 2`ã«èµ·å› ã™ã‚‹ã¨æ€ã‚ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼ã‚’è¸ã¿ã¾ã—ãŸãŒã€ä½•å›ã‹å®Ÿè¡Œã—ãŸã‚‰å…¥ã‚Šã¾ã—ãŸã€‚

### neovimé–¢é€£
#### deinã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
sudo chmod o+w ~/.cache

# install dein
curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh >~/installer.sh
sh ~/installer.sh ~/.cache/dein
rm ~/installer.sh
```

#### ãƒ•ã‚©ãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
export PATH=$HOME/go/bin:$PATH # å‰è¿°ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸghqã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ãƒ‘ã‚¹ã‚’é€šã—ã¾ã™
ghq get https://github.com/ryanoasis/nerd-fonts.git # neovimã§åˆ©ç”¨ã™ã‚‹nerd-font
ghq get https://github.com/Karmenzind/monaco-nerd-fonts.git # iTermã§åˆ©ç”¨ã™ã‚‹ãƒ•ã‚©ãƒ³ãƒˆ
ghq get https://github.com/dracula/iterm.git # iTermã®ãƒ†ãƒ¼ãƒ

cp $HOME/repos/github.com/Karmenzind/monaco-nerd-fonts/fonts/Monaco\ Nerd\ Font\ Complete\ Windows\ Compatible.otf $HOME/Library/Fonts # iTermã§é¸æŠã§ãã‚‹ã‚ˆã†ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç§»å‹•
fontforge $HOME/repos/github.com/ryanoasis/nerd-fonts/font-patcher $HOME/Library/Fonts/Monaco\ Nerd\ Font\ Complete\ Windows\ Compatible.otf -w --fontawesome --fontawesomeextension --fontlinux --octicons --powersymbols --pomicons --powerline --powerlineextra --material --weather # ä¸€éƒ¨è¶³ã‚Šãªã„ãƒ•ã‚©ãƒ³ãƒˆãŒã‚ã‚‹ãŸã‚ãƒ‘ãƒƒãƒã‚’å½“ã¦ã‚‹
```

### Rustè£½ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
#### rustupã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
@chikoskiæ§˜ã®[Apple Silicon ã‚’ä½¿ã£ãŸ Mac ã« Rust ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯](https://qiita.com/chikoski/items/f973e551a71ed0179116)ã‚’å‚è€ƒã«ã—ã¦ã„ã¾ã™ã€‚éå¸¸ã«åŠ©ã‹ã‚Šã¾ã—ãŸã€‚
rustupã‚’ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
å¯¾è©±å¼ã§`default toolchain`ã«`nightly`ã‚’æŒ‡å®šã—ã¾ã™

```bash
arch --x86_64 sh <(curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs )
```

#### ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
export PATH="$HOME/.cargo/bin:$PATH"
cargo install ripgrep
cargo install exa
cargo install fd-find
cargo install bat
```

ä»¥ä¸Šã¨ãªã‚Šã¾ã™

# æœ€å¾Œã«
æœ€åˆã¯ãƒãƒã‚Šã¾ã—ãŸãŒã€æ€ã£ã¦ã„ãŸä»¥ä¸Šã«Rosseta 2ãŒå„ªç§€ã§ã€æ§˜ã€…ãªã‚¢ãƒ—ãƒªã‚„CLIãŒå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã—ãŸã€‚
neovimã§TypeScriptã‚’æ›¸ãåˆ†ã«ã¯ã‚ã¾ã‚Šå•é¡Œãªã„ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚

ãã®ã»ã‹æ„Ÿã˜ãŸã“ã¨
* æ–°æ©Ÿèƒ½ã§ã¯ãªã„ã§ã™ãŒã€Macã®ç’°å¢ƒæ§‹ç¯‰æ™‚ã€1passwordã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã®è»¢è¨˜ãŒé¢å€’ã ã¨æ„Ÿã˜ã¦ã„ã¾ã—ãŸãŒã€iPhoneã¨ã®ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰åŒæœŸã‚’è¡Œã†ã“ã¨ã§ã€ã‚¹ãƒ ãƒ¼ã‚ºã«èªè¨¼ã§ãæ„Ÿå‹•ã—ã¾ã—ãŸã€‚
* è©•åˆ¤é€šã‚Šã‚¹ãƒªãƒ¼ãƒ—è§£é™¤ã¯çˆ†é€Ÿã€‚Apple Eventã§ãƒ•ã‚§ãƒ‡ãƒªã‚®ãŒãƒ‰ãƒ¤é¡”ã—ã¦ã„ãŸç†ç”±ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚ä»Šæ€ã†ã¨Apple Eventå¾Œã®è¦–è´è€…ã®åå¿œã¯å€‹äººçš„ã«ã‹ãªã‚Šæ‡ç–‘çš„ã ã£ãŸãª...ã¨ã€‚ä¿¡ã˜ã¦ã‚¤ãƒ™ãƒ³ãƒˆå¾Œã™ããƒãƒã‚Šã¾ã—ãŸãŒã€æ­£è§£ã§ã—ãŸã€‚
